# **第 2 章：組織中的數據建模**

## **1. 基本概念**

- **實體（Entity）**：
  - **實體實例**：對應資料庫中的行（如某位員工）。  
  - **實體類型**：共享共同屬性的一組實體（如員工表）。  
- **關係（Relationship）**：
  - **關係實例**：實體之間的連結（如主鍵-外鍵關係）。  
  - **關係類型**：實體類型間的連結類別。  
- **屬性（Attribute）**：描述實體或關係類型特徵的屬性（如欄位）。  

---

## **2. 商業規則（Business Rules）**

- **定義**：限制業務某些方面的聲明，表達業務結構或行為。  
- **優秀的商業規則特質**：
  - **聲明式**：描述“什麼”，而非“如何”。  
  - **精確、原子**：清晰、不可分割。  
  - **可理解**：業務用戶可輕易理解。  

---

## **3. 實體與屬性**

1. **實體分類**：
   - **強實體（Strong Entity）**：獨立存在，有唯一標識符。  
   - **弱實體（Weak Entity）**：依賴於強實體，無唯一標識符（需關係支持）。  

2. **屬性分類**：
   - **必要屬性**：每個實體必須有值。  
   - **可選屬性**：可能沒有值。  
   - **簡單屬性 vs. 複合屬性**：是否有組件部分。  
   - **單值 vs. 多值屬性**：是否可接受多個值。  
   - **儲存 vs. 衍生屬性**：是否需要計算。

---

## **4. 標識符（Keys）**

- **簡單鍵 vs. 複合鍵**：單一屬性或多個屬性組合。  
- **候選鍵**：符合成為唯一標識符要求的屬性。  
- **設計建議**：
  - 避免變化或可能為 null 的值。  
  - 避免使用有意義（如位置或人名）的鍵。  

---

## **5. 關係建模**

1. **關係類型與實例**：
   - **關係類型**：實體類型之間的關係。  
   - **關係實例**：具體實體之間的關係連結。

2. **關係的種類**：
   - **一對一（1:1）**：每個實體有唯一關聯實體。  
   - **一對多（1:N）**：單個實體與多個實體關聯。  
   - **多對多（M:N）**：雙方實體均可有多個關聯實體。  

3. **關係的度數**：
   - **單元關係（Unary）**：同一類型實體間的關係。  
   - **二元關係（Binary）**：兩種實體類型間的關係。  
   - **三元關係（Ternary）**：三種實體類型間的關係。

---

## **6. 關係的基數限制（Cardinality Constraints）**

- **最小基數**：定義必須有幾個關聯實體（0 = 可選；1 或更多 = 必須）。  
- **最大基數**：定義最多可有幾個關聯實體。  

---

## **7. 關係中的關聯實體（Associative Entities）**

- **適用場合**：
  - 當關係需額外屬性。  
  - 當三元關係需轉化為實體類型。  
- **設計建議**：應有唯一標識符，並能獨立於其他實體存在。

---

## **8. 時間戳與多值屬性**

- **時間戳**：用於標記數據值的相關時間（如價格歷史）。  
- **多值屬性建模**：將屬性分解為獨立實體和關係。

---

## **結論**

本章重點在於構建 E-R 模型時實體、屬性與關係的分類和特性，並強調了如何使用強實體、弱實體、關聯實體以及適當的鍵設計來增強數據模型的表達能力。
